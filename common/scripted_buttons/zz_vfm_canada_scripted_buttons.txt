
je_found_british_columbia_button = {
	name = "je_found_british_columbia_button"
	desc = "je_found_british_columbia_button_desc"

	visible = {
		OR = {
			AND = {
				exists = c:COL
				c:COL ?= {
					is_subject_of = root
					NOT = { is_subject_type = subject_type_dependency }
				}
			}
			has_state_in_state_region = STATE_BRITISH_COLUMBIA
		}
	}

	possible = {
		OR = {
			AND = {
				exists = c:COL
				c:COL ?= {
					is_subject_of = root
				}
			}
			has_state_in_state_region = STATE_BRITISH_COLUMBIA
		}
	}

	effect = {
		if = {
			limit = {
				AND = {
					exists = c:COL
					c:COL ?= {
						is_subject_of = root
					}
				}
			}
			create_diplomatic_pact = {
				country = c:COL
				type = dependency
			}
		}
		else_if = {
			limit = {
				has_state_in_state_region = STATE_BRITISH_COLUMBIA
				NOT = {
					exists = c:COL
					c:COL = { # TODO: bug here, create COL if it already exists but is subject?
						is_subject_of = root
					}
				}
			}
			s:STATE_BRITISH_COLUMBIA = {
				random_scope_state = {
					save_scope_as = bc_state_scope
				}
		    }
			create_country = {
				tag = COL
				origin = this
				state = scope:bc_state_scope
			}
			create_diplomatic_pact = {
				country = c:COL
				type = dependency
			}
			c:COL = {
				bpm_setup_country = yes
			}
		}
	}
	
	ai_chance = {
		base = 5
	}
}
